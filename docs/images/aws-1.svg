<svg id="mermaid-1644830249605" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="1202" style="max-width: 368.344px; background-color: white;" viewBox="0 0 368.34375 1202"><style>#mermaid-1644830249605 {font-family:Montserrat,sans-serif;font-size:16px;fill:#000000;}#mermaid-1644830249605 .error-icon{fill:#552222;}#mermaid-1644830249605 .error-text{fill:#552222;stroke:#552222;}#mermaid-1644830249605 .edge-thickness-normal{stroke-width:2px;}#mermaid-1644830249605 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1644830249605 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1644830249605 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1644830249605 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1644830249605 .marker{fill:#666;stroke:#666;}#mermaid-1644830249605 .marker.cross{stroke:#666;}#mermaid-1644830249605 svg{font-family:Montserrat,sans-serif;font-size:16px;}#mermaid-1644830249605 .label{font-family:Montserrat,sans-serif;color:#000000;}#mermaid-1644830249605 .cluster-label text{fill:#333;}#mermaid-1644830249605 .cluster-label span{color:#333;}#mermaid-1644830249605 .label text,#mermaid-1644830249605 span{fill:#000000;color:#000000;}#mermaid-1644830249605 .node rect,#mermaid-1644830249605 .node circle,#mermaid-1644830249605 .node ellipse,#mermaid-1644830249605 .node polygon,#mermaid-1644830249605 .node path{fill:#eee;stroke:#007CAD;stroke-width:1px;}#mermaid-1644830249605 .node .label{text-align:center;}#mermaid-1644830249605 .node.clickable{cursor:pointer;}#mermaid-1644830249605 .arrowheadPath{fill:#333333;}#mermaid-1644830249605 .edgePath .path{stroke:#666;stroke-width:2.0px;}#mermaid-1644830249605 .flowchart-link{stroke:#666;fill:none;}#mermaid-1644830249605 .edgeLabel{background-color:white;text-align:center;}#mermaid-1644830249605 .edgeLabel rect{opacity:0.5;background-color:white;fill:white;}#mermaid-1644830249605 .cluster rect{fill:rgba(64, 63, 65, 0.2);stroke:#403F41;stroke-width:1px;}#mermaid-1644830249605 .cluster text{fill:#333;}#mermaid-1644830249605 .cluster span{color:#333;}#mermaid-1644830249605 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:Montserrat,sans-serif;font-size:12px;background:hsl(-160, 0%, 93.3333333333%);border:1px solid #707070;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-1644830249605 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><g class="output"><g class="clusters"><g class="cluster" id="flowchart-aws_monitoring-56" transform="translate(184.171875,905)" style="opacity: 1;"><rect width="343.40625" height="578" x="-171.703125" y="-289"></rect><g class="label" transform="translate(0, -275)" id="mermaid-1644830249605Text"><g transform="translate(-88.6328125,-9)"><foreignObject width="177.265625" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">AWS Monitoring Account</div></foreignObject></g></g></g><g class="cluster" id="flowchart-assume_role-57" transform="translate(184.171875,685)" style="opacity: 1;"><rect width="303.40625" height="88" x="-151.703125" y="-44"></rect><g class="label" transform="translate(0, -30)" id="mermaid-1644830249605Text"><g transform="translate(-119.6328125,-9)"><foreignObject width="239.265625" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Monitoring account authentication</div></foreignObject></g></g></g><g class="cluster" id="flowchart-application_account-58" transform="translate(184.171875,287)" style="opacity: 1;"><rect width="352.34375" height="558" x="-176.171875" y="-279"></rect><g class="label" transform="translate(0, -265)" id="mermaid-1644830249605Text"><g transform="translate(-70.265625,-9)"><foreignObject width="140.53125" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Application Account</div></foreignObject></g></g></g><g class="cluster" id="flowchart-app_sts-60" transform="translate(184.171875,121)" style="opacity: 1;"><rect width="312.34375" height="176" x="-156.171875" y="-88"></rect><g class="label" transform="translate(0, -74)" id="mermaid-1644830249605Text"><g transform="translate(-47.578125,-9)"><foreignObject width="95.15625" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Assume Role</div></foreignObject></g></g></g><g class="cluster" id="flowchart-application-59" transform="translate(184.171875,365)" style="opacity: 1;"><rect width="213.65625" height="176" x="-106.828125" y="-88"></rect><g class="label" transform="translate(0, -74)" id="mermaid-1644830249605Text"><g transform="translate(-39.140625,-9)"><foreignObject width="78.28125" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Application</div></foreignObject></g></g></g></g><g class="edgePaths"><g class="edgePath LS-application_policy LE-application_role" id="L-application_policy-application_role" style="opacity: 1;"><path class="path" d="M184.171875,96L184.171875,100.16666666666667C184.171875,104.33333333333333,184.171875,112.66666666666667,184.171875,121C184.171875,129.33333333333334,184.171875,137.66666666666666,184.171875,141.83333333333334L184.171875,146" marker-end="url(#arrowhead176)" style="fill:none"></path><defs><marker id="arrowhead176" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-application_role LE-dc_logging_client" id="L-application_role-dc_logging_client" style="opacity: 1;"><path class="path" d="M184.171875,184L184.171875,188.16666666666666C184.171875,192.33333333333334,184.171875,200.66666666666666,184.171875,210.5C184.171875,220.33333333333334,184.171875,231.66666666666666,184.171875,243C184.171875,254.33333333333334,184.171875,265.6666666666667,184.171875,275.5C184.171875,285.3333333333333,184.171875,293.6666666666667,184.171875,297.8333333333333L184.171875,302" marker-end="url(#arrowhead177)" style="fill:none"></path><defs><marker id="arrowhead177" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-dc_logging_client LE-put_log" id="L-dc_logging_client-put_log" style="opacity: 1;"><path class="path" d="M184.171875,340L184.171875,344.1666666666667C184.171875,348.3333333333333,184.171875,356.6666666666667,184.171875,365C184.171875,373.3333333333333,184.171875,381.6666666666667,184.171875,385.8333333333333L184.171875,390" marker-end="url(#arrowhead178)" style="fill:none"></path><defs><marker id="arrowhead178" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-put_log LE-monitoring_role" id="L-put_log-monitoring_role" style="opacity: 1;"><path class="path" d="M184.171875,428L184.171875,432.1666666666667C184.171875,436.3333333333333,184.171875,444.6666666666667,184.171875,453C184.171875,461.3333333333333,184.171875,469.6666666666667,184.171875,478C184.171875,486.3333333333333,184.171875,494.6666666666667,184.171875,498.8333333333333L184.171875,503" marker-end="url(#arrowhead179)" style="fill:none"></path><defs><marker id="arrowhead179" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-monitoring_role LE-monitoring_policy" id="L-monitoring_role-monitoring_policy" style="opacity: 1;"><path class="path" d="M184.171875,541L184.171875,545.1666666666666C184.171875,549.3333333333334,184.171875,557.6666666666666,184.171875,566C184.171875,574.3333333333334,184.171875,582.6666666666666,184.171875,591C184.171875,599.3333333333334,184.171875,607.6666666666666,184.171875,616C184.171875,624.3333333333334,184.171875,632.6666666666666,184.171875,641C184.171875,649.3333333333334,184.171875,657.6666666666666,184.171875,661.8333333333334L184.171875,666" marker-end="url(#arrowhead180)" style="fill:none"></path><defs><marker id="arrowhead180" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-monitoring_policy LE-firehose" id="L-monitoring_policy-firehose" style="opacity: 1;"><path class="path" d="M184.171875,704L184.171875,708.1666666666666C184.171875,712.3333333333334,184.171875,720.6666666666666,184.171875,729C184.171875,737.3333333333334,184.171875,745.6666666666666,184.171875,754C184.171875,762.3333333333334,184.171875,770.6666666666666,184.171875,774.8333333333334L184.171875,779" marker-end="url(#arrowhead181)" style="fill:none"></path><defs><marker id="arrowhead181" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-firehose LE-convert" id="L-firehose-convert" style="opacity: 1;"><path class="path" d="M184.171875,817L184.171875,821.1666666666666C184.171875,825.3333333333334,184.171875,833.6666666666666,184.171875,842C184.171875,850.3333333333334,184.171875,858.6666666666666,184.171875,862.8333333333334L184.171875,867" marker-end="url(#arrowhead182)" style="fill:none"></path><defs><marker id="arrowhead182" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-convert LE-s3" id="L-convert-s3" style="opacity: 1;"><path class="path" d="M184.171875,905L184.171875,909.1666666666666C184.171875,913.3333333333334,184.171875,921.6666666666666,184.171875,930C184.171875,938.3333333333334,184.171875,946.6666666666666,184.171875,950.8333333333334L184.171875,955" marker-end="url(#arrowhead183)" style="fill:none"></path><defs><marker id="arrowhead183" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-s3 LE-glue" id="L-s3-glue" style="opacity: 1;"><path class="path" d="M184.171875,993L184.171875,997.1666666666666C184.171875,1001.3333333333334,184.171875,1009.6666666666666,184.171875,1018C184.171875,1026.3333333333333,184.171875,1034.6666666666667,184.171875,1038.8333333333333L184.171875,1043" marker-end="url(#arrowhead184)" style="fill:none"></path><defs><marker id="arrowhead184" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-glue LE-athena" id="L-glue-athena" style="opacity: 1;"><path class="path" d="M184.171875,1081L184.171875,1085.1666666666667C184.171875,1089.3333333333333,184.171875,1097.6666666666667,184.171875,1106C184.171875,1114.3333333333333,184.171875,1122.6666666666667,184.171875,1126.8333333333333L184.171875,1131" marker-end="url(#arrowhead185)" style="fill:none"></path><defs><marker id="arrowhead185" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-application_policy-application_role" class="edgeLabel L-LS-application_policy' L-LE-application_role"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(184.171875,243)" style="opacity: 1;"><g transform="translate(-35.5703125,-9)" class="label"><rect rx="0" ry="0" width="71.140625" height="18"></rect><foreignObject width="71.140625" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-application_role-dc_logging_client" class="edgeLabel L-LS-application_role' L-LE-dc_logging_client">Role ARN</span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-dc_logging_client-put_log" class="edgeLabel L-LS-dc_logging_client' L-LE-put_log"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-put_log-monitoring_role" class="edgeLabel L-LS-put_log' L-LE-monitoring_role"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-monitoring_role-monitoring_policy" class="edgeLabel L-LS-monitoring_role' L-LE-monitoring_policy"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-monitoring_policy-firehose" class="edgeLabel L-LS-monitoring_policy' L-LE-firehose"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-firehose-convert" class="edgeLabel L-LS-firehose' L-LE-convert"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-convert-s3" class="edgeLabel L-LS-convert' L-LE-s3"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-s3-glue" class="edgeLabel L-LS-s3' L-LE-glue"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-glue-athena" class="edgeLabel L-LS-glue' L-LE-athena"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="flowchart-firehose-42" transform="translate(184.171875,798)" style="opacity: 1;"><rect rx="0" ry="0" x="-86.03125" y="-19" width="172.0625" height="38" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-76.03125,-9)"><foreignObject width="152.0625" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Firehose DataStream</div></foreignObject></g></g></g><g class="node default" id="flowchart-convert-43" transform="translate(184.171875,886)" style="opacity: 1;"><rect rx="0" ry="0" x="-66.90625" y="-19" width="133.8125" height="38" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-56.90625,-9)"><foreignObject width="113.8125" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Convert to ORC</div></foreignObject></g></g></g><g class="node default" id="flowchart-s3-44" transform="translate(184.171875,974)" style="opacity: 1;"><rect rx="0" ry="0" x="-61.59375" y="-19" width="123.1875" height="38" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-51.59375,-9)"><foreignObject width="103.1875" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">S3 log storage</div></foreignObject></g></g></g><g class="node default" id="flowchart-glue-45" transform="translate(184.171875,1062)" style="opacity: 1;"><rect rx="0" ry="0" x="-100.8671875" y="-19" width="201.734375" height="38" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-90.8671875,-9)"><foreignObject width="181.734375" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">AWS Glue table definition</div></foreignObject></g></g></g><g class="node default" id="flowchart-athena-46" transform="translate(184.171875,1150)" style="opacity: 1;"><rect rx="0" ry="0" x="-118.1953125" y="-19" width="236.390625" height="38" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-108.1953125,-9)"><foreignObject width="216.390625" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">AWS Athena (SQL query logs)</div></foreignObject></g></g></g><g class="node default" id="flowchart-monitoring_policy-41" transform="translate(184.171875,685)" style="opacity: 1;"><rect rx="0" ry="0" x="-116.703125" y="-19" width="233.40625" height="38" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-106.703125,-9)"><foreignObject width="213.40625" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">dc-wide-put-record IAM Policy</div></foreignObject></g></g></g><g class="node default" id="flowchart-monitoring_role-39" transform="translate(184.171875,522)" style="opacity: 1;"><rect rx="0" ry="0" x="-111.8125" y="-19" width="223.625" height="38" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-101.8125,-9)"><foreignObject width="203.625" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">dc-wide-put-record IAM Role</div></foreignObject></g></g></g><g class="node default" id="flowchart-dc_logging_client-30" transform="translate(184.171875,321)" style="opacity: 1;"><rect rx="0" ry="0" x="-71.828125" y="-19" width="143.65625" height="38" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-61.828125,-9)"><foreignObject width="123.65625" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">dc_logging_client</div></foreignObject></g></g></g><g class="node default" id="flowchart-put_log-31" transform="translate(184.171875,409)" style="opacity: 1;"><rect rx="0" ry="0" x="-36.25" y="-19" width="72.5" height="38" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-26.25,-9)"><foreignObject width="52.5" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">put_log</div></foreignObject></g></g></g><g class="node default" id="flowchart-application_policy-28" transform="translate(184.171875,77)" style="opacity: 1;"><rect rx="0" ry="0" x="-109.1484375" y="-19" width="218.296875" height="38" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-99.1484375,-9)"><foreignObject width="198.296875" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">PutDCWideLogs IAM Policy</div></foreignObject></g></g></g><g class="node default" id="flowchart-application_role-29" transform="translate(184.171875,165)" style="opacity: 1;"><rect rx="0" ry="0" x="-121.171875" y="-19" width="242.34375" height="38" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-111.171875,-9)"><foreignObject width="222.34375" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Application / developer / CI role</div></foreignObject></g></g></g></g></g></g></svg>